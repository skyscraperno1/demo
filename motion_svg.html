<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
    <style>
      * {
        margin: 0;
        padding: 0;
      }
      .p {
        fill: none;
        stroke: red;
        stroke-width: 1;
        stroke-dasharray: var(--l);
        stroke-dashoffset: var(--l);
        animation: stroke 2s forwards;
        stroke-linecap: round;
      }
      @keyframes stroke {
        to {
          stroke-dashoffset: 0;
        }
      }
    </style>
  </head>
  <body>
    <svg height="200px" width="200px" class="icon">
      <circle class="p" cx="50%" cy="50%" r="30%"></circle>
    </svg>
    <svg height="200px" width="200px" class="icon">
      <line class="p" x1="0" y1="50%" x2="100%" y2="50%"></line>
    </svg>
    <svg
      stroke="currentColor"
      fill="currentColor"
      stroke-width="0"
      viewBox="0 0 30 30"
      height="200px"
      width="200px"
      xmlns="http://www.w3.org/2000/svg"
      class="icon"
    >
      <path
        class="p"
        d="M12 4c-4.879 0-9 4.121-9 9s4.121 9 9 9 9-4.121 9-9-4.121-9-9-9zm0 16c-3.794 0-7-3.206-7-7s3.206-7 7-7 7 3.206 7 7-3.206 7-7 7z"
      ></path>
      <path
        class="p"
        d="M13 12V8h-2v6h6v-2zm4.284-8.293 1.412-1.416 3.01 3-1.413 1.417zm-10.586 0-2.99 2.999L2.29 5.294l2.99-3z"
      ></path>
    </svg>
  </body>
  <script>
    const paths = document.querySelectorAll(".icon .p");
    paths.forEach((path) => {
      const len = path.getTotalLength();
      path.style.setProperty("--l", len);
    });
  </script>
</html>
